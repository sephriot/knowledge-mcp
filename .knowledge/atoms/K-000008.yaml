id: K-000008
title: MCP-Go Library Dependency
type: fact
status: active
confidence: high
content:
    summary: The project uses github.com/mark3labs/mcp-go for MCP protocol implementation.
    details: |-
        ## Dependency

        ```go
        require github.com/mark3labs/mcp-go v0.27.0
        ```

        ## Usage in main.go

        The library provides:
        - `mcp.NewTool()` - Define MCP tools with parameters
        - `mcp.WithDescription()`, `mcp.WithString()`, `mcp.WithArray()`, etc. - Tool configuration
        - `server.NewMCPServer()` - Create MCP server instance
        - `server.WithInstructions()` - Add server instructions for LLM guidance
        - `server.ServeStdio()` - Start stdio transport

        ## Server Instructions

        MCP servers can provide instructions to help LLMs understand how to use their tools:

        ```go
        s := server.NewMCPServer(
            "server-name",
            "0.1.0",
            server.WithInstructions(`Instructions for the LLM about how to use this server...`),
        )
        ```

        Instructions are returned in the `initialize` response and clients (like Claude Code) may add them to the system prompt. Use this to:
        - Explain when and how to use tools
        - Encourage specific behaviors (e.g., proactive knowledge creation)
        - Document best practices

        ## Key Patterns

        ```go
        s := server.NewMCPServer(
            "knowledge-mcp",
            "0.1.0",
            server.WithResourceCapabilities(true, true),
            server.WithToolCapabilities(true),
            server.WithInstructions(serverInstructions),
        )

        s.AddTool(mcp.NewTool("tool_name",
            mcp.WithDescription("..."),
            mcp.WithString("param", mcp.Required()),
        ), handlerFunc)

        server.ServeStdio(s)
        ```
    pitfalls: []
    update_notes:
        - date: "2026-01-21"
          note: Initial creation
        - date: "2026-01-23"
          note: Updated
language: go
created_at: "2026-01-21"
updated_at: "2026-01-23"
tags:
    - mcp
    - dependency
    - library
    - mcp-go
    - instructions
sources:
    - kind: repo_path
      ref: go.mod
    - kind: repo_path
      ref: main.go
links: []
supersedes: []
